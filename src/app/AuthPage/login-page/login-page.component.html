
<div class="LoginWidnow">
	<div class="brand">
		<img src="assets/compare.png" alt="logo">
	</div>
  <nav>
    <div class="nav nav-tabs" id="nav-tab" role="tablist">
      <a class="nav-item nav-link w-50 text-center active" id="nav-login-tab" href="#nav-login" role="tab"
        data-toggle="tab" aria-controls="nav-login" aria-selected="true">
        <strong>Login</strong>
      </a>
      <a class="nav-item nav-link w-50 text-center" id="nav-register-tab" href="#nav-register" role="tab"
        data-toggle="tab" aria-controls="nav-register" aria-selected="false">
        <strong>Register</strong>
      </a>
    </div>
    <div class="tab-content mt-4" id="nav-tabContent">
      <!-- Login Tab -->

      <div class="tab-pane fade show active" id="nav-login" role="tabpanel" aria-labelledby="nav-login-tab">
        <form [formGroup]="loginForm">

          <!-- Email Address -->
          <div class="form-group">
            <label for="lemail">Email Address</label>
            <input id="lemail" class="form-control" formControlName="lemail" placeholder="Enter your email address"
              type="email" required>

            <div class="alert alert-danger" *ngIf="lemail.invalid &&(lemail.dirty || lemail.touched)">
              <div *ngIf="lemail.errors.required">
                Name is required.
              </div>
              <div *ngIf="lemail.errors.minlength">
                Name must be at least 4 characters long.
              </div>
              <div *ngIf="lemail.errors.maxlength">
                Name must not execeed 10 characters long.
              </div>
            </div>
          </div>

          <!-- Password -->
          <div class="form-group">
            <label for="lpassword">Password</label>
            <input id="lpassword" type="password" class="form-control" placeholder=""
              formControlName="lpassword" required>

            <div class="alert alert-danger" *ngIf="lpassword.invalid &&(lpassword.dirty || lpassword.touched)">
              <div *ngIf="lpassword.errors.required">
                Password is required.
              </div>
            </div>
          </div>
          <div class="form-check">
            <input type="checkbox" class="form-check-input" id="remember-me" ng-model="login_user.remember_me">
            <label class="form-check-label" for="remember-me">Remember me</label>
          </div>
          <button type="submit" class="loginbtn mt-15 btn btn-primary btn-block" (click)="login()">Login</button>
        </form>
      </div>


      <!-- Register Tab-->
      <div class="tab-pane fade" id="nav-register" role="tabpanel" aria-labelledby="nav-register-tab">
        <form [formGroup]="registerForm">

          <!-- Name -->
          <div class="form-group">
            <label for="rname">Name</label>
            <input id="rname" class="form-control" formControlName="rname" placeholder="Input your name" required>

            <div class="alert alert-danger" *ngIf="rname.invalid &&(rname.dirty || rname.touched || showNameError)">
              <div *ngIf="rname.errors.required">
                Name is required.
              </div>
              <div *ngIf="rname.errors.minlength">
                Name must be at least 4 characters long.
              </div>
              <div *ngIf="rname.errors.maxlength">
                Name must not execeed 10 characters long.
              </div>
              <div *ngIf="rname.errors.beginWith">
                User name should not start with _
              </div>
              <div *ngIf="rname.errors.userNameVal">
                User name contains invalidate character
              </div>

            </div>
          </div>

          <!-- Email -->
          <div class="form-group">
            <label for="remail">Email Address</label>
            <input id="remail" class="form-control" formControlName="remail" placeholder="@ra.rockwell.com" required>

            <div *ngIf="remail.pending">Validating...</div>
            <div class="alert alert-danger" *ngIf="remail.invalid &&(remail.dirty || remail.touched)">
              <div *ngIf="remail.errors.required">
                Email is required.
              </div>
              <div *ngIf="remail.errors.email">
                Invalid email address.
              </div>
              <div *ngIf="remail.errors?.uniqueEmail">
                The email address already exist.
              </div>
            </div>
          </div>

          <!-- Password -->
          <div class="form-group">
            <label for="rpassword">Passowrd</label>
            <input id="rpassword" class="form-control" formControlName="rpassword" placeholder=""
              type="password" required>

            <div class="alert alert-danger" *ngIf="rpassword.invalid &&(rpassword.dirty || rpassword.touched)">
              <div *ngIf="rpassword.errors.required">
                Password is required.
              </div>
              <div *ngIf="rpassword.errors.minlength">
                Password is too short.
              </div>
              <div *ngIf="rpassword.errors.passwordVal">
                Password is not strong enough.
              </div>
            </div>
          </div>

          <!-- Confirm Password -->
          <div class="form-group">
            <label for="rconfirm">Passowrd</label>
            <input type="password" id="rconfirm" class="form-control" formControlName="rconfirm"
              placeholder="" required>

            <div class="alert alert-danger" *ngIf="rconfirm.invalid &&(rconfirm.dirty || rconfirm.touched)">
              <div *ngIf="rconfirm.errors.required">
                Password is required.
              </div>
            </div>
            <div *ngIf="registerForm.errors?.passwordConfirmVal"
            class="cross-validation-error-message alert alert-danger">
            Password not equal.
          </div>
          </div>
          

          <div class="form-check">
            <input type="checkbox" class="form-check-input" id="accept" name="accept" (click)="acceptLicense()"
              accept-check>

            <label class="form-check-label" for="accept"><em>I have read all the <a href="#" class="blue"
                  data-toggle="modal" data-target="#acceptTerms">agreements</a>.</em></label>
            <div
              ng-if="registerForm.rpassword.$valid&&registerForm.cpassword.$valid&&registerForm.accept.$dirty&&registerForm.accept.$invalid">
              <span class="error" [hidden]="!showLicenseError" ng-if="registerForm.accept.$error.not_checked">
                You must agree with all the terms.
              </span>
            </div>
          </div>
          <button type="submit" class="regbtn mt-15 btn btn-primary btn-block" (click)="register()">Register</button>
        </form>
      </div>
    </div>
  </nav>
</div>
